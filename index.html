<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Binary Search Tree</title>
</head>
<body>
    <script>
        class Node {
            constructor(data) {
                this.data = data;
                this.left = null;
                this.right = null;
            }
        }
        
        class Tree {
            constructor(arr) {
                this.arr = arr
                this.root = null;
            }
            removeDupes(arr) {
                let array = [];
                arr.forEach(element => {
                    if(!array.includes(element)) {
                        array.push(element)
                    }
                });
                return this.arr = array;
            }
            sortArray(arr) {
                if (arr.length < 2) {
                    return arr
                } else {
                    let half = arr.length/2
                    let left = this.sortArray(arr.slice(0, half))
                    let right = this.sortArray(arr.slice(half))
                    let array = [];
                    let [i, j] = [0, 0];
                    while (i < left.length || j < right.length) {
                        if (left[i] < right[j]) {
                            array.push(left[i])
                            i++;
                        } else {
                            array.push(right[j])
                            j++
                        }
                        if (left.length === i) {
                            array = array.concat(right.slice(j))
                            break;
                        }
                        if (right.length === j) {
                            array = array.concat(left.slice(i))
                            break;
                        }
                    }
                    return this.arr = array
                }
            }
            buildTree(arr, start = 0, end = arr.length-1) {
            if (start > end) {
                return null;
            }
                let mid = Math.floor((start + end)/2);
                let node = new Node(arr[mid]);
                node.left = this.buildTree(arr, start, mid-1);
                node.right = this.buildTree(arr, mid+1, end);
                return this.root = node;
            }
             prettyPrint = (node, prefix = '', isLeft = true) => {
            if (node.right) {
                this.prettyPrint(node.right, `${prefix}${isLeft ? '│   ' : '    '}`, false);
            }
                console.log(`${prefix}${isLeft ? '└── ' : '┌── '}${node.data}`);
            if (node.left) {
                this.prettyPrint(node.left, `${prefix}${isLeft ? '    ' : '│   '}`, true);
            }
        }
        findValue(root, value) {
            if (root == null || root.data == value) {
                return root
            }
            if (root.data < value && root.right !== null) {
                 return this.findValue(root.right, value)
            } else if (root.data > value && root.left !== null) {
                  return this.findValue(root.left, value)
            } 
            return null;
        }
        insertNode(root, value) {
            if (root == null) {
                root = new Node(value);
                return root;
            }
            if (root.data < value && root.right == null) {
                return root.right = new Node(value);
            }
            if (root.data > value && root.left == null) {
                return root.left = new Node(value);
            }
            if (root.data < value) {
                return this.insertNode(root.right, value)
            }
             if (root.data > value) {
                return this.insertNode(root.left, value)
             }   
        }
        deleteNode(root, value) {
            if (root == null) {
                return root;
        }
        if (root.data == value) {
            if (root.left == null && root.right == null) {
                return null
            } else if (root.left == null) {
                return root.right;
            } else if (root.right == null) {
                return root.left;
            } else {
                let temp = this.minValue(root.right)
                root.data = temp.data;
                root.right = this.deleteNode(root.right, temp.data)
                return root;
            }
        } else if (root.data < value) {
            root.right = this.deleteNode(root.right, value)
            return root;
        } else {
            root.left = this.deleteNode(root.left, value)
            return root;
        }
            return console.log(null)
        }
        minValue(root) {
            while (root.left !== null) {
                root = root.left;
            }
            return root;
        }
        levelOrder = (root) => {
            let queue = [];
            let arrayOfValues = [];
            queue.push(root)
            while (queue.length !== 0) {
                let temp = queue.shift()
                if (temp.left !== null) {
                    queue.push(temp.left)
                }
                if (temp.right !== null) {
                    queue.push(temp.right)
                }
                arrayOfValues.push(temp.data)
            }
            return arrayOfValues
        }

    }
    
    
    
    
    

  let myarray = [5, 11, 2, 6, 13, 8, 1, 15, 15, 23]
  let tree = new Tree;
  tree.removeDupes(myarray);
  tree.sortArray(tree.arr)
  tree.buildTree(tree.arr)
    </script>
</body>
</html>